@if (properties().configuration?.showTopBar) {
  <div class="ngw-window-topbar"
       #_topbar>
    @if (properties().configuration?.showLeftControls) {
      <div class="ngw-window-left-controls">
        @if (properties().configuration?.showMenuButton) {
          <ngw-icon type="menu"
                    (click)="windowControllerService.onMenu$.next($event)"/>
        }
        @if (windowControllerService.leftControlsTemplate) {
          <ng-container *ngTemplateOutlet="windowControllerService.leftControlsTemplate"/>
        }
      </div>
    }
    @if (properties().configuration?.displayName) {
      @if (windowControllerService.windowNameTemplate) {
        <ng-container *ngTemplateOutlet="windowControllerService.windowNameTemplate"/>
      } @else {
        <span class="ngw-window-title">
        {{ properties().name }}
      </span>
      }
    }
    @if (properties().configuration?.showRightControls) {
      <div class="ngw-window-right-controls">
        @if (windowControllerService.rightControlsTemplate) {
          <ng-container *ngTemplateOutlet="windowControllerService.rightControlsTemplate"/>
        }
        @if (properties().configuration?.minimizable) {
          <ngw-icon type="minimize"
                    (click)="minimize()"/>
        }
        @if (properties().configuration?.maximizable) {
          <ngw-icon [type]="properties().state.maximized ? 'restore' : 'maximize'"
                    (click)="toggleMaximize()"/>
        }
        @if (properties().configuration?.closeable) {
          <ngw-icon type="close"
                    (click)="close($event)"/>
        }
      </div>
    }
  </div>
}
@if (initialized()) {
  <div class="ngw-window-content"
       [style]="{
        maxWidth: properties().placement.width + 'px',
        maxHeight: getContentHeight
     }">
    @if (properties().component) {
      <ng-container [ngComponentOutlet]="properties().component"
                    [ngComponentOutletInputs]="{windowController: windowControllerService}"/>
    }
  </div>
}
